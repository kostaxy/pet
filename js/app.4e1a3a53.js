(function(){"use strict";var e={7905:function(e,t,o){var n=o(9242),a=o(3396);const l={class:"app"};function s(e,t,o,n,s,i){const r=(0,a.up)("navbar"),p=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r),(0,a._)("div",l,[(0,a.Wm)(p)])],64)}const i=e=>((0,a.dD)("data-v-59e582e6"),e=e(),(0,a.Cn)(),e),r={key:0,class:"navbar"},p=i((()=>(0,a._)("div",{style:{width:"112px"}},null,-1))),d={class:"navbar__buttons"},c=(0,a.Uk)("Appointments"),m=(0,a.Uk)("Doctors"),u=(0,a.Uk)(" Logout ");function h(e,t,o,n,l,s){const i=(0,a.up)("nav-button");return e.$store.state.isAuth?((0,a.wg)(),(0,a.iD)("div",r,[p,(0,a._)("div",d,[(0,a.Wm)(i,{onClick:t[0]||(t[0]=t=>e.$router.push("/appointments"))},{default:(0,a.w5)((()=>[c])),_:1}),(0,a.Wm)(i,{onClick:t[1]||(t[1]=t=>e.$router.push("/employee"))},{default:(0,a.w5)((()=>[m])),_:1})]),(0,a._)("div",null,[(0,a.Wm)(i,{onClick:s.logout},{default:(0,a.w5)((()=>[u])),_:1},8,["onClick"])])])):(0,a.kq)("",!0)}const g={class:"nav-btn",role:"button"},y={class:"text"};function _(e,t,o,n,l,s){return(0,a.wg)(),(0,a.iD)("button",g,[(0,a._)("span",y,[(0,a.WI)(e.$slots,"default",{},void 0,!0)])])}var v={name:"nav-button"},f=o(89);const w=(0,f.Z)(v,[["render",_],["__scopeId","data-v-47e8b270"]]);var k=w,b={components:{NavButton:k},methods:{logout(e){this.$store.commit("logout"),this.$router.push("/login")}}};const D=(0,f.Z)(b,[["render",h],["__scopeId","data-v-59e582e6"]]);var C=D,N={components:{Navbar:C}};const I=(0,f.Z)(N,[["render",s]]);var U=I;const A={class:"btn"};function V(e,t,o,n,l,s){return(0,a.wg)(),(0,a.iD)("button",A,[(0,a.WI)(e.$slots,"default",{},void 0,!0)])}var O={name:"my-button"};const L=(0,f.Z)(O,[["render",V],["__scopeId","data-v-701fac1a"]]);var E=L;const S=["value"];function W(e,t,o,n,l,s){return(0,a.wg)(),(0,a.iD)("input",{value:o.modelValue,onInput:t[0]||(t[0]=(...e)=>s.updateInput&&s.updateInput(...e)),class:"input",type:"text"},null,40,S)}var R={name:"my-input",props:{modelValue:[String,Number]},methods:{updateInput(e){this.$emit("update:modelValue",e.target.value)}}};const $=(0,f.Z)(R,[["render",W],["__scopeId","data-v-173b1dff"]]);var M=$;const x=e=>((0,a.dD)("data-v-de6411a4"),e=e(),(0,a.Cn)(),e),Z=x((()=>(0,a._)("i",{class:"fa-solid fa-x"},null,-1))),q=[Z];function j(e,t,o,l,s,i){return o.show?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"dialog",onClick:t[2]||(t[2]=(0,n.iM)(((...e)=>i.hideDialog&&i.hideDialog(...e)),["stop"]))},[(0,a._)("div",{onClick:t[1]||(t[1]=(0,n.iM)((()=>{}),["stop"])),class:"dialog__content"},[(0,a._)("div",{class:"close_btn",onClick:t[0]||(t[0]=(...e)=>i.hideDialog&&i.hideDialog(...e))},q),(0,a.WI)(e.$slots,"default",{},void 0,!0)])])):(0,a.kq)("",!0)}o(2270);var F={name:"my-dialog",props:{show:{type:Boolean,default:!1}},methods:{hideDialog(){this.$emit("update:show",!1)}}};const T=(0,f.Z)(F,[["render",j],["__scopeId","data-v-de6411a4"]]);var P=T,z=o(7139);const B=["disabled","hidden","value"];function H(e,t,o,l,s,i){return(0,a.wy)(((0,a.wg)(),(0,a.iD)("select",{class:"select","onUpdate:modelValue":t[0]||(t[0]=e=>o.modelValue=e),onChange:t[1]||(t[1]=(...e)=>i.changeOption&&i.changeOption(...e))},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.options,(e=>((0,a.wg)(),(0,a.iD)("option",{disabled:!!e.disabled,hidden:!!e.hidden,key:e.value,value:e.value},(0,z.zw)(e.name),9,B)))),128))],544)),[[n.bM,o.modelValue]])}var J={name:"my-select",props:{modelValue:{type:String},options:{type:Array,default:()=>[]}},methods:{changeOption(e){this.$emit("update:modelValue",e.target.value)}}};const Y=(0,f.Z)(J,[["render",H],["__scopeId","data-v-7152df2c"]]);var K=Y,G=o.p+"img/loader.3cf3c522.gif";const Q=e=>((0,a.dD)("data-v-2882594c"),e=e(),(0,a.Cn)(),e),X={class:"loader"},ee=Q((()=>(0,a._)("img",{src:G,alt:""},null,-1))),te=[ee];function oe(e,t,o,n,l,s){return(0,a.wg)(),(0,a.iD)("div",X,te)}var ne={name:"my-loader"};const ae=(0,f.Z)(ne,[["render",oe],["__scopeId","data-v-2882594c"]]);var le=ae,se=o(9024),ie=[E,M,P,K,le,k,se.Z];o(1129);const re=(0,a._)("h1",null,"test router",-1),pe=[re];function de(e,t,o,n,l,s){return(0,a.wg)(),(0,a.iD)("div",null,pe)}var ce={name:"Main",components:{Navbar:C},beforeCreate(){this.$store.state.isAuth?this.$router.push("/appointments"):this.$router.push("/login")}};const me=(0,f.Z)(ce,[["render",de]]);var ue=me,he=o(678);const ge={key:0,class:"list_text"},ye=(0,a._)("h3",null,"list of appointments",-1),_e=[ye],ve={key:1,class:"list_text"},fe=(0,a._)("h3",null,"appointments list is empty",-1),we=[fe],ke={class:"actions_block"},be={key:0,class:"actions_content"},De={key:0},Ce=(0,a.Uk)(" Create new "),Ne={key:1},Ie=(0,a.Uk)(" Create new "),Ue=(0,a.Uk)("is loading");function Ae(e,t,o,n,l,s){const i=(0,a.up)("my-select"),r=(0,a.up)("my-button"),p=(0,a.up)("appointment-form-create"),d=(0,a.up)("my-dialog"),c=(0,a.up)("appointment-list"),m=(0,a.up)("my-loader");return(0,a.wg)(),(0,a.iD)("div",null,[l.appointments.length>0?((0,a.wg)(),(0,a.iD)("div",ge,_e)):((0,a.wg)(),(0,a.iD)("div",ve,we)),(0,a._)("div",ke,[l.appointments.length>0?((0,a.wg)(),(0,a.iD)("div",be,[(0,a.Wm)(i,{modelValue:l.selectedSort,"onUpdate:modelValue":t[0]||(t[0]=e=>l.selectedSort=e),options:l.sortOptions},null,8,["modelValue","options"]),"ROLE_ADMIN"===this.$store.state.currentRole||"ROLE_RECEPTION"===this.$store.state.currentRole?((0,a.wg)(),(0,a.iD)("div",De,[(0,a.Wm)(r,{onClick:s.showDialog},{default:(0,a.w5)((()=>[Ce])),_:1},8,["onClick"])])):(0,a.kq)("",!0)])):"ROLE_ADMIN"===this.$store.state.currentRole||"ROLE_RECEPTION"===this.$store.state.currentRole?((0,a.wg)(),(0,a.iD)("div",Ne,[(0,a.Wm)(r,{onClick:s.showDialog},{default:(0,a.w5)((()=>[Ie])),_:1},8,["onClick"])])):(0,a.kq)("",!0)]),(0,a.Wm)(d,{show:l.dialogVisible,"onUpdate:show":t[1]||(t[1]=e=>l.dialogVisible=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{onCreateNewAppointment:s.createAppointment},null,8,["onCreateNewAppointment"])])),_:1},8,["show"]),this.isAppointmentsLoading?((0,a.wg)(),(0,a.j4)(m,{key:3},{default:(0,a.w5)((()=>[Ue])),_:1})):((0,a.wg)(),(0,a.j4)(c,{key:2,onRemoveAppointment:s.removeAppointment,appointments:l.appointments},null,8,["onRemoveAppointment","appointments"]))])}const Ve={key:0,class:"appointment_list"};function Oe(e,t,o,l,s,i){const r=(0,a.up)("appointment-item");return o.appointments.length>0?((0,a.wg)(),(0,a.iD)("div",Ve,[(0,a.Wm)(n.W3,{name:"appointment-list"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.appointments,(t=>((0,a.wg)(),(0,a.j4)(r,{class:"appointment",appointment:t,key:t.id,onRemoveAppointment:o=>e.$emit("removeAppointment",t)},null,8,["appointment","onRemoveAppointment"])))),128))])),_:1})])):(0,a.kq)("",!0)}const Le=e=>((0,a.dD)("data-v-1b2ddd0f"),e=e(),(0,a.Cn)(),e),Ee={class:"appointment"},Se={class:"top__content"},We={class:"date"},Re=Le((()=>(0,a._)("b",null,"Time:",-1))),$e=(0,a.Uk)(),Me={key:0,class:"action_buttons"},xe=Le((()=>(0,a._)("i",{class:"fa-regular fa-trash-can"},null,-1))),Ze=[xe],qe={class:"info"},je=Le((()=>(0,a._)("b",null,"Owner name:",-1))),Fe=Le((()=>(0,a._)("b",null,"Animal:",-1))),Te=Le((()=>(0,a._)("b",null,"Reason:",-1))),Pe=Le((()=>(0,a._)("b",null,"Doctor:",-1))),ze=Le((()=>(0,a._)("div",null,null,-1)));function Be(e,t,o,n,l,s){return(0,a.wg)(),(0,a.iD)("div",Ee,[(0,a._)("div",Se,[(0,a._)("div",We,[Re,$e,(0,a._)("i",null,(0,z.zw)(o.appointment.date.toLocaleString("ru-Ru")),1)]),"ROLE_ADMIN"===e.$store.state.role?((0,a.wg)(),(0,a.iD)("div",Me,[(0,a._)("div",{class:"icon_btn",onClick:t[0]||(t[0]=t=>e.$emit("removeAppointment",o.appointment))},Ze)])):(0,a.kq)("",!0)]),(0,a._)("div",qe,[(0,a._)("div",null,[je,(0,a.Uk)(" "+(0,z.zw)(o.appointment.ownerName),1)]),(0,a._)("div",null,[Fe,(0,a.Uk)(" "+(0,z.zw)(o.appointment.animal),1)]),(0,a._)("div",null,[Te,(0,a.Uk)(" "+(0,z.zw)(o.appointment.reason),1)]),(0,a._)("div",null,[Pe,(0,a.Uk)(" "+(0,z.zw)(o.appointment.doctor),1)])]),ze])}var He={components:{MyButton:E},props:{appointment:{type:Object,required:!0}},methods:{}};const Je=(0,f.Z)(He,[["render",Be],["__scopeId","data-v-1b2ddd0f"]]);var Ye=Je,Ke={components:{AppointmentItem:Ye},props:{appointments:{type:Array,required:!0}}};const Ge=(0,f.Z)(Ke,[["render",Oe],["__scopeId","data-v-2dd0e6ce"]]);var Qe=Ge;const Xe=e=>((0,a.dD)("data-v-d0c08e86"),e=e(),(0,a.Cn)(),e),et={key:0,class:"error_input__container"},tt=Xe((()=>(0,a._)("span",{class:"error_input__text"},"Choose a date larger than the current",-1))),ot=[tt],nt={key:1,class:"error_input__container"},at=Xe((()=>(0,a._)("span",{class:"error_input__text"},"Fill in all the fields",-1))),lt=[at],st=(0,a.Uk)(" create ");function it(e,t,o,l,s,i){const r=(0,a.up)("Datepicker"),p=(0,a.up)("my-input"),d=(0,a.up)("my-select"),c=(0,a.up)("my-button");return(0,a.wg)(),(0,a.iD)("form",{onSubmit:t[5]||(t[5]=(0,n.iM)((()=>{}),["prevent"])),class:"appointment_create__form"},[(0,a.Wm)(r,{modelValue:l.date,"onUpdate:modelValue":t[0]||(t[0]=e=>l.date=e),placeholder:"Select Date"},null,8,["modelValue"]),s.isDateCorrect?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",et,ot)),(0,a.Wm)(p,{modelValue:s.appointment.ownerName,"onUpdate:modelValue":t[1]||(t[1]=e=>s.appointment.ownerName=e),class:"input",type:"text",placeholder:"Owner name"},null,8,["modelValue"]),(0,a.Wm)(p,{modelValue:s.appointment.animal,"onUpdate:modelValue":t[2]||(t[2]=e=>s.appointment.animal=e),class:"input",type:"text",placeholder:"Animal"},null,8,["modelValue"]),(0,a.Wm)(p,{modelValue:s.appointment.reason,"onUpdate:modelValue":t[3]||(t[3]=e=>s.appointment.reason=e),class:"input",type:"text",placeholder:"Reason"},null,8,["modelValue"]),(0,a.Wm)(d,{class:"select",modelValue:s.selectedDoctor,"onUpdate:modelValue":t[4]||(t[4]=e=>s.selectedDoctor=e),options:s.doctorOptions,placeholder:"test"},null,8,["modelValue","options"]),s.isFieldsCorrect?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",nt,lt)),(0,a.Wm)(c,{class:"btn__create",onClick:i.createAppointment},{default:(0,a.w5)((()=>[st])),_:1},8,["onClick"])],32)}var rt=o(4870),pt=o(6265),dt=o.n(pt),ct={components:{MySelect:K,MyInput:M,Datepicker:se.Z},data(){return{isDateCorrect:!0,isFieldsCorrect:!0,appointment:{ownerName:null,animal:null,reason:null,doctor:null,doctorId:null},doctors:[],selectedDoctor:"",doctorOptions:[]}},methods:{createAppointment(){this.appointment.id=Date.now(),"undefined"!==typeof this.date&&this.date.getTime()>(new Date).getTime()?null!==this.appointment.animal&&""!==this.appointment.animal&&null!==this.appointment.doctorId&&""!==this.appointment.doctorId&&null!==this.appointment.doctorName&&""!==this.appointment.doctorName&&null!==this.appointment.ownerName&&""!==this.appointment.ownerName&&null!==this.appointment.reason&&""!==this.appointment.reason?(this.appointment.date=new Date(this.date.getTime()),this.$emit("createNewAppointment",this.appointment),this.appointment={doctorName:"",reason:""}):(this.isFieldsCorrect=!1,"undefined"!==typeof this.date&&this.date.getTime()>(new Date).getTime()&&(this.isDateCorrect=!0)):this.isDateCorrect=!1},async fetchDoctors(){try{let e=await dt().get("https://run.mocky.io/v3/3526a901-6007-4f94-823b-24c5f87a49d2",{params:{_page:1,_limit:2}}),t=null;for(let o=0;o<e.data.length;o++)t={id:e.data[o].id,doctorName:e.data[o].firstName+" "+e.data[o].lastName},this.doctors.push(t)}catch(e){alert("Error "+e)}},addDoctorsOptions(){let e=null;this.doctorOptions.push({value:"",disabled:!0,hidden:!1,name:"Select the doctor"});for(let t=0;t<this.doctors.length;t++)e={name:this.doctors[t].doctorName,value:JSON.stringify({id:this.doctors[t].id,doctorName:this.doctors[t].doctorName})},this.doctorOptions.push(e)}},setup(){const e=(0,rt.iH)();return{date:e}},mounted(){this.fetchDoctors().then((()=>{this.addDoctorsOptions()}))},watch:{selectedDoctor(e){const t=JSON.parse(e);this.appointment.doctor=t.doctorName,this.appointment.doctorId=t.id}}};const mt=(0,f.Z)(ct,[["render",it],["__scopeId","data-v-d0c08e86"]]);var ut=mt,ht={components:{MyLoader:le,MySelect:K,MyButton:E,MyDialog:P,AppointmentList:Qe,AppointmentFormCreate:ut},data(){return{appointments:[],dialogVisible:!1,isAppointmentsLoading:!1,selectedSort:"",sortOptions:[{value:"",disabled:!0,hidden:!1,name:"Choose the sort field"},{value:"date",name:"Date"},{value:"ownerName",name:"Owner name"}]}},methods:{createAppointment(e){this.appointments.push(e),this.dialogVisible=!1},removeAppointment(e){this.appointments=this.appointments.filter((t=>t.id!=e.id))},showDialog(){this.dialogVisible=!0},async fetchAppointments(){try{this.isAppointmentsLoading=!0;let e=await dt().get("https://run.mocky.io/v3/886cab0c-2300-45df-8b57-2b751d16becc",{params:{_page:1,_limit:2}}),t=null;for(let o=0;o<e.data.length;o++)t={id:e.data[o].id,date:new Date(e.data[o].dateAppointment),ownerName:e.data[o].ownerFirstName+" "+e.data[o].ownerLastName,animal:e.data[o].animal,reason:e.data[o].reason,doctor:e.data[o].doctor},this.appointments.push(t)}catch(e){alert("Error "+e)}finally{this.isAppointmentsLoading=!1}}},mounted(){this.fetchAppointments()},watch:{selectedSort(e){this.appointments.sort(((t,o)=>"string"===typeof t[e]?t[e]?.localeCompare(o[e]):new Date(t[e]).getTime()-new Date(o[e]).getTime()))}}};const gt=(0,f.Z)(ht,[["render",Ae]]);var yt=gt;const _t=e=>((0,a.dD)("data-v-4e319eeb"),e=e(),(0,a.Cn)(),e),vt={key:0,class:"list_text"},ft=_t((()=>(0,a._)("h3",null,"employee list",-1))),wt=[ft],kt={key:1,class:"list_text"},bt=_t((()=>(0,a._)("h3",null,"employee list is empty",-1))),Dt=[bt],Ct={key:2,class:"actions_block"},Nt={key:0,class:"actions_content"},It=(0,a.Uk)(" Create new "),Ut={key:1},At=(0,a.Uk)(" Create new "),Vt=(0,a.Uk)("is loading");function Ot(e,t,o,n,l,s){const i=(0,a.up)("my-button"),r=(0,a.up)("employee-list"),p=(0,a.up)("my-loader"),d=(0,a.up)("employee-form-create"),c=(0,a.up)("my-dialog");return(0,a.wg)(),(0,a.iD)(a.HY,null,[l.employees.length>0?((0,a.wg)(),(0,a.iD)("div",vt,wt)):((0,a.wg)(),(0,a.iD)("div",kt,Dt)),"ROLE_ADMIN"===this.$store.state.currentRole?((0,a.wg)(),(0,a.iD)("div",Ct,[l.employees.length>0?((0,a.wg)(),(0,a.iD)("div",Nt,[(0,a.Wm)(i,{onClick:s.showDialog},{default:(0,a.w5)((()=>[It])),_:1},8,["onClick"])])):((0,a.wg)(),(0,a.iD)("div",Ut,[(0,a.Wm)(i,{onClick:s.showDialog},{default:(0,a.w5)((()=>[At])),_:1},8,["onClick"])]))])):(0,a.kq)("",!0),this.isEmployeesLoading?((0,a.wg)(),(0,a.j4)(p,{key:4},{default:(0,a.w5)((()=>[Vt])),_:1})):((0,a.wg)(),(0,a.j4)(r,{key:3,onRemoveEmployee:s.removeEmployee,employees:l.employees},null,8,["onRemoveEmployee","employees"])),(0,a.Wm)(c,{show:l.dialogVisible,"onUpdate:show":t[0]||(t[0]=e=>l.dialogVisible=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{onCreateNewEmployee:s.createEmployee},null,8,["onCreateNewEmployee"])])),_:1},8,["show"])],64)}const Lt={key:0,class:"employee_list"};function Et(e,t,o,l,s,i){const r=(0,a.up)("employee-item");return o.employees.length>0?((0,a.wg)(),(0,a.iD)("div",Lt,[(0,a.Wm)(n.W3,{name:"employee-list"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.employees,(t=>((0,a.wg)(),(0,a.j4)(r,{class:"employee",employee:t,key:t.id,onRemoveEmployee:o=>e.$emit("removeEmployee",t)},null,8,["employee","onRemoveEmployee"])))),128))])),_:1})])):(0,a.kq)("",!0)}const St=e=>((0,a.dD)("data-v-22e093ce"),e=e(),(0,a.Cn)(),e),Wt={class:"employee"},Rt={class:"info"},$t=["src"],Mt={class:"text_info"},xt=St((()=>(0,a._)("b",null,"Doctor:",-1))),Zt=St((()=>(0,a._)("b",null,"Adress:",-1))),qt={key:0,class:"action_buttons"},jt=St((()=>(0,a._)("i",{class:"fa-regular fa-trash-can"},null,-1))),Ft=[jt];function Tt(e,t,o,n,l,s){return(0,a.wg)(),(0,a.iD)("div",Wt,[(0,a._)("div",Rt,[(0,a._)("div",null,[(0,a._)("img",{class:"avatar",src:o.employee.imgUrl},null,8,$t)]),(0,a._)("div",Mt,[(0,a._)("div",null,[xt,(0,a.Uk)(" "+(0,z.zw)(o.employee.doctorName),1)]),(0,a._)("div",null,[Zt,(0,a.Uk)(" "+(0,z.zw)(o.employee.adress),1)])]),"ROLE_ADMIN"===this.$store.state.currentRole?((0,a.wg)(),(0,a.iD)("div",qt,[(0,a._)("div",{class:"icon_btn",onClick:t[0]||(t[0]=t=>e.$emit("removeEmployee",o.employee))},Ft)])):(0,a.kq)("",!0)])])}var Pt={components:{MyButton:E},props:{employee:{type:Object,required:!0}},methods:{}};const zt=(0,f.Z)(Pt,[["render",Tt],["__scopeId","data-v-22e093ce"]]);var Bt=zt,Ht={components:{EmployeeItem:Bt},props:{employees:{type:Array,required:!0}}};const Jt=(0,f.Z)(Ht,[["render",Et],["__scopeId","data-v-073148ec"]]);var Yt=Jt;const Kt=e=>((0,a.dD)("data-v-24b243da"),e=e(),(0,a.Cn)(),e),Gt={key:0,class:"error_input__container"},Qt=Kt((()=>(0,a._)("span",{class:"error_input__text"},"Fill in all the fields",-1))),Xt=[Qt],eo=(0,a.Uk)(" create ");function to(e,t,o,l,s,i){const r=(0,a.up)("my-input"),p=(0,a.up)("my-button");return(0,a.wg)(),(0,a.iD)("form",{onSubmit:t[3]||(t[3]=(0,n.iM)((()=>{}),["prevent"])),class:"employee_create__form"},[(0,a.Wm)(r,{modelValue:s.employee.firstName,"onUpdate:modelValue":t[0]||(t[0]=e=>s.employee.firstName=e),class:"input",type:"text",placeholder:"First name"},null,8,["modelValue"]),(0,a.Wm)(r,{modelValue:s.employee.lastName,"onUpdate:modelValue":t[1]||(t[1]=e=>s.employee.lastName=e),class:"input",type:"text",placeholder:"Last name"},null,8,["modelValue"]),(0,a.Wm)(r,{modelValue:s.employee.adress,"onUpdate:modelValue":t[2]||(t[2]=e=>s.employee.adress=e),class:"input",type:"text",placeholder:"Adress"},null,8,["modelValue"]),s.isFieldsCorrect?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",Gt,Xt)),(0,a.Wm)(p,{class:"btn__create",onClick:i.createEmployee},{default:(0,a.w5)((()=>[eo])),_:1},8,["onClick"])],32)}var oo={components:{MySelect:K,MyInput:M},data(){return{isFieldsCorrect:!0,employee:{id:null,firstName:null,lastName:null,adress:null}}},methods:{createEmployee(){this.employee.id=Date.now(),this.employee.imgUrl=this.$store.state.mewImageUrl,null!==this.employee.firstName&&""!==this.employee.firstName&&null!==this.employee.lastName&&""!==this.employee.lastName&&null!==this.employee.adress&&""!==this.employee.adress?(this.employee.doctorName=this.employee.firstName+" "+this.employee.lastName,this.$emit("createNewEmployee",this.employee),this.employee={firstName:null,lastName:null,adress:null}):this.isFieldsCorrect=!1}}};const no=(0,f.Z)(oo,[["render",to],["__scopeId","data-v-24b243da"]]);var ao=no,lo={components:{EmployeeFormCreate:ao,EmployeeList:Yt,MyLoader:le,MySelect:K,MyButton:E,MyDialog:P,AppointmentFormCreate:ut},data(){return{employees:[],dialogVisible:!1,isEmployeesLoading:!1}},methods:{createEmployee(e){console.log(e),this.employees.push(e),this.dialogVisible=!1},removeEmployee(e){this.employees=this.employees.filter((t=>t.id!=e.id))},showDialog(){this.dialogVisible=!0},async fetchEmployees(){try{this.isEmployeesLoading=!0;let e=await dt().get("https://run.mocky.io/v3/3526a901-6007-4f94-823b-24c5f87a49d2",{params:{_page:1,_limit:2}}),t=null;for(let o=0;o<e.data.length;o++)t={id:e.data[o].id,doctorName:e.data[o].firstName+" "+e.data[o].lastName,adress:e.data[o].adress,imgUrl:e.data[o].imgUrl},this.employees.push(t)}catch(e){alert("Error "+e)}finally{this.isEmployeesLoading=!1}}},mounted(){this.fetchEmployees()}};const so=(0,f.Z)(lo,[["render",Ot],["__scopeId","data-v-4e319eeb"]]);var io=so;const ro=e=>((0,a.dD)("data-v-1286b183"),e=e(),(0,a.Cn)(),e),po={class:"login__container"},co={class:"login__content"},mo=ro((()=>(0,a._)("h3",null,"log in to use the system",-1))),uo=(0,a.Uk)("login"),ho=(0,a.Uk)("password"),go={key:0,class:"error_input__container"},yo=ro((()=>(0,a._)("span",{class:"error_input__text"},"Incorrect login or password",-1))),_o=[yo],vo=(0,a.Uk)(" login "),fo=ro((()=>(0,a._)("div",{class:"info_login"},[(0,a.Uk)(" login: admin; password: admin "),(0,a._)("br"),(0,a.Uk)(" login: reception; password: reception "),(0,a._)("br"),(0,a.Uk)(" login: doctor; password: doctor ")],-1)));function wo(e,t,o,n,l,s){const i=(0,a.up)("my-input"),r=(0,a.up)("my-button");return(0,a.wg)(),(0,a.iD)("div",po,[(0,a._)("div",co,[mo,(0,a.Wm)(i,{placeholder:"login",type:"text",class:"login_input",modelValue:l.user.login,"onUpdate:modelValue":t[0]||(t[0]=e=>l.user.login=e)},{default:(0,a.w5)((()=>[uo])),_:1},8,["modelValue"]),(0,a.Wm)(i,{type:"password",placeholder:"password",class:"login_input",modelValue:l.user.password,"onUpdate:modelValue":t[1]||(t[1]=e=>l.user.password=e)},{default:(0,a.w5)((()=>[ho])),_:1},8,["modelValue"]),l.isWrongLoginOrPassword?((0,a.wg)(),(0,a.iD)("div",go,_o)):(0,a.kq)("",!0),(0,a.Wm)(r,{class:"login_btn",onClick:s.authUser},{default:(0,a.w5)((()=>[vo])),_:1},8,["onClick"]),fo])])}var ko={name:"LoginPage",components:{MyInput:M,MyButton:E},data(){return{user:{login:"",password:"",role:""},allUsers:[],isLoginLoading:!1,isWrongLoginOrPassword:!1}},methods:{authUser(){this.fetchUsers().then((()=>{console.log(this.allUsers);let e=this.allUsers.filter((e=>e.login.toLowerCase()===this.user.login&&e.password===this.user.password));e.length>0?(this.$store.commit("loginUser",e[0]),this.user.login="",this.user.role="",this.$router.push("/appointments")):this.isWrongLoginOrPassword=!0}))},async fetchUsers(){try{this.isLoginLoading=!0;let e=await dt().get("https://run.mocky.io/v3/5c2b188f-0f96-4a04-826b-2bc10f83a3f8",{}),t=null;for(let o=0;o<e.data.length;o++)t={login:e.data[o].login,password:e.data[o].password,role:e.data[o].role},this.allUsers.push(t)}catch(e){alert("Error "+e)}finally{this.isLoginLoading=!1}}}};const bo=(0,f.Z)(ko,[["render",wo],["__scopeId","data-v-1286b183"]]);var Do=bo,Co=o(65),No=(0,Co.MT)({state:{isAuth:!!localStorage.getItem("isAuth")&&JSON.parse(localStorage.getItem("isAuth")),currentLogin:localStorage.getItem("currentLogin")?localStorage.getItem("currentLogin"):"",currentRole:localStorage.getItem("currentRole")?localStorage.getItem("currentRole"):"",mewImageUrl:"https://i.pravatar.cc/300"},getters:{},mutations:{loginUser(e,t){localStorage.setItem("isAuth",!0),localStorage.setItem("currentLogin",t.login),localStorage.setItem("currentRole",t.role),e.isAuth=JSON.parse(localStorage.getItem("isAuth")),e.currentLogin=localStorage.getItem("currentLogin"),e.currentRole=localStorage.getItem("currentRole")},logout(e){localStorage.setItem("isAuth",!1),localStorage.setItem("currentLogin",""),localStorage.setItem("currentRole",""),e.isAuth=JSON.parse(localStorage.getItem("isAuth")),e.currentLogin=localStorage.getItem("currentLogin"),e.currentRole=localStorage.getItem("currentRole")}},actions:{}});const Io=[{path:"/",component:ue},{path:"/appointments",component:yt},{path:"/employee",component:io},{path:"/login",component:Do},{path:"/:catchAll(.*)",redirect:"/"}],Uo=(0,he.p7)({routes:Io,history:(0,he.PO)("/pet/")});Uo.beforeEach((async e=>{const t=["/login"],o=!t.includes(e.path);if(o&&!No.state.isAuth)return"/login"}));var Ao=Uo;const Vo=(0,n.ri)(U);ie.forEach((e=>{Vo.component(e.name,e)})),Vo.use(Ao).use(No).mount("#app")}},t={};function o(n){var a=t[n];if(void 0!==a)return a.exports;var l=t[n]={exports:{}};return e[n](l,l.exports,o),l.exports}o.m=e,function(){var e=[];o.O=function(t,n,a,l){if(!n){var s=1/0;for(d=0;d<e.length;d++){n=e[d][0],a=e[d][1],l=e[d][2];for(var i=!0,r=0;r<n.length;r++)(!1&l||s>=l)&&Object.keys(o.O).every((function(e){return o.O[e](n[r])}))?n.splice(r--,1):(i=!1,l<s&&(s=l));if(i){e.splice(d--,1);var p=a();void 0!==p&&(t=p)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[n,a,l]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.p="/pet/"}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,l,s=n[0],i=n[1],r=n[2],p=0;if(s.some((function(t){return 0!==e[t]}))){for(a in i)o.o(i,a)&&(o.m[a]=i[a]);if(r)var d=r(o)}for(t&&t(n);p<s.length;p++)l=s[p],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(d)},n=self["webpackChunkpet"]=self["webpackChunkpet"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(7905)}));n=o.O(n)})();
//# sourceMappingURL=app.4e1a3a53.js.map